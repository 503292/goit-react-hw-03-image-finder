{"version":3,"sources":["components/App.module.css","components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css","image/Moogle.jpg","components/PhotoCard/PhotoCard.js","components/Button/Button.js","components/Gallery/Gallery.js","components/SearchForm/SearchForm.js","components/Modal/Modal.js","services/photo-api.js","components/App.js","index.js","components/Modal/Modal.module.css","components/Button/Button.module.css"],"names":["module","exports","PhotoCard","id","webformatURL","largeImageURL","likes","views","comments","downloads","handleOpenModal","className","css","galleryItem","photoCard","photo","src","data-src","alt","stats","statsItem","type","onClick","fullscreenButton","Button","handleClickBtn","wrapBtn","buttonLoad","Gallery","imagesInfo","gallery","map","el","index","key","SearchForm","state","query","page","handelChange","e","setState","target","value","handleSubmit","preventDefault","handleSubmitForm","props","resetSearch","this","searchForm","onSubmit","onChange","autoComplete","placeholder","Component","Modal","overlayRef","createRef","handleBtnModal","code","handleCloseModal","handleModalOverlay","current","window","removeEventListener","addEventListener","onKeyUp","overlay","role","ref","modal","modalPhoto","API_KEY","process","getPhotos","axios","get","App","isModalOpen","largeImage","then","hits","data","catch","error","prevState","message","currentTarget","parentElement","firstChild","dataset","scrollTo","top","document","body","scrollHeight","behavior","app","pathImg","topImage","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.23ba76ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"topImage\":\"App_topImage__HEKNi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"PhotoCard_galleryItem__1uBMt\",\"photoCard\":\"PhotoCard_photoCard__PgiZ5\",\"photo\":\"PhotoCard_photo__24ABw\",\"stats\":\"PhotoCard_stats__3CqsO\",\"statsItem\":\"PhotoCard_statsItem__1Nczb\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1Tn9w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1_m-s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1sXZj\"};","module.exports = __webpack_public_path__ + \"static/media/Moogle.0210d676.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  id,\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  handleOpenModal,\n}) => (\n  <li className={css.galleryItem}>\n    <div className={css.photoCard}>\n      <img\n        className={css.photo}\n        src={webformatURL}\n        data-src={largeImageURL}\n        alt={id}\n      />\n\n      <div className={css.stats}>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">thumb_up</i>\n          {likes}\n        </p>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">visibility</i>\n          {views}\n        </p>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">comment</i>\n          {comments}\n        </p>\n        <p className={css.statsItem}>\n          <i className=\"material-icons\">cloud_download</i>\n          {downloads}\n        </p>\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={handleOpenModal}\n        className={css.fullscreenButton}\n      >\n        <i className=\"material-icons\">zoom_out_map</i>\n      </button>\n    </div>\n  </li>\n);\n\nPhotoCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  handleOpenModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Button.module.css';\n\nconst Button = ({ handleClickBtn }) => (\n  <div className={css.wrapBtn}>\n    <button className={css.buttonLoad} type=\"button\" onClick={handleClickBtn}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  handleClickBtn: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport Button from '../Button/Button';\nimport css from './Gallery.module.css';\n\nconst Gallery = ({ imagesInfo, handleClickBtn, handleOpenModal }) => (\n  <>\n    {' '}\n    <ul className={css.gallery}>\n      {imagesInfo.map((el, index) => (\n        <PhotoCard\n          // eslint-disable-next-line react/no-array-index-key\n          key={index}\n          id={el.id}\n          webformatURL={el.webformatURL}\n          largeImageURL={el.largeImageURL}\n          likes={el.likes}\n          views={el.views}\n          comments={el.comments}\n          downloads={el.downloads}\n          handleOpenModal={handleOpenModal}\n        />\n      ))}\n    </ul>\n    <Button handleClickBtn={handleClickBtn} />\n  </>\n);\n\nGallery.propTypes = {\n  imagesInfo: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  handleClickBtn: PropTypes.func.isRequired,\n  handleOpenModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = { query: '', page: 1 };\n\n  handelChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { handleSubmitForm } = this.props;\n\n    handleSubmitForm(this.state);\n\n    this.resetSearch();\n  };\n\n  resetSearch = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={css.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          onChange={this.handelChange}\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  handleSubmitForm: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Modal.module.css';\n\nclass Modal extends Component {\n  overlayRef = createRef();\n\n  componentWillMount() {\n    window.removeEventListener('keyup', this.handleBtnModal);\n  }\n\n  componentDidMount() {\n    window.addEventListener('keyup', this.handleBtnModal);\n  }\n\n  handleBtnModal = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n    this.props.handleCloseModal();\n  };\n\n  handleModalOverlay = ({ target }) => {\n    const { current } = this.overlayRef;\n\n    if (target !== current) {\n      return;\n    }\n    this.props.handleCloseModal();\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n\n    return (\n      <>\n        <div\n          onKeyUp={this.handleBtnModal}\n          onClick={this.handleModalOverlay}\n          className={css.overlay}\n          role=\"presentation\"\n          ref={this.overlayRef}\n        >\n          <div className={css.modal}>\n            <img\n              className={css.modalPhoto}\n              src={largeImageURL}\n              alt={largeImageURL}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  handleCloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import axios from 'axios';\n\nconst CRIPT_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_KEY = `&key=${CRIPT_KEY}`;\n\n/* eslint-disable-next-line */\nexport const getPhotos = (query = '', page = 1) =>\n  axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12${API_KEY}`,\n  );\n","import React, { Component } from 'react';\nimport Gallery from './Gallery/Gallery';\nimport SearchForm from './SearchForm/SearchForm';\nimport Modal from './Modal/Modal';\nimport { getPhotos } from '../services/photo-api';\nimport pathImg from '../image/Moogle.jpg';\nimport css from './App.module.css';\n\nclass App extends Component {\n  state = {\n    imagesInfo: [],\n    query: '',\n    page: 1,\n    isModalOpen: false,\n    largeImage: '',\n  };\n\n  componentDidMount() {\n    const { query, page } = this.state;\n    getPhotos(query, page)\n      .then(({ data: { hits } }) =>\n        this.setState({\n          query,\n          imagesInfo: hits,\n          page: 2,\n        }),\n      )\n      .catch(error => error);\n  }\n\n  componentDidUpdate(prevState) {\n    const { query } = this.state;\n\n    if (prevState.query !== query) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleSubmitForm = ({ query, page }) => {\n    getPhotos(query, page)\n      .then(({ data: { hits } }) =>\n        this.setState({\n          query,\n          imagesInfo: hits,\n          page: 2,\n        }),\n      )\n      .catch(error => error);\n  };\n\n  handleClickBtn = () => {\n    const { query, page } = this.state;\n    getPhotos(query, page)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          imagesInfo: [...prevState.imagesInfo, ...data.hits],\n          page: prevState.page + 1,\n        })),\n      )\n      .catch(error => error.message);\n  };\n\n  handleOpenModal = e => {\n    const { src } = e.currentTarget.parentElement.firstChild.dataset;\n    this.setState({ isModalOpen: true, largeImage: src });\n  };\n\n  handleCloseModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { isModalOpen, imagesInfo, query, largeImage } = this.state;\n    return (\n      <div className={css.app}>\n        <img src={pathImg} alt=\"top-moogle\" className={css.topImage} />\n\n        <SearchForm handleSubmitForm={this.handleSubmitForm} query={query} />\n\n        <Gallery\n          imagesInfo={imagesInfo}\n          handleClickBtn={this.handleClickBtn}\n          handleOpenModal={this.handleOpenModal}\n        />\n\n        {isModalOpen && (\n          <Modal\n            className=\"modal-photo-card\"\n            handleCloseModal={this.handleCloseModal}\n            largeImageURL={largeImage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2OoL6\",\"modal\":\"Modal_modal__oAqIT\",\"modalPhoto\":\"Modal_modalPhoto__2Y0Ag\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapBtn\":\"Button_wrapBtn__2v-Yf\",\"buttonLoad\":\"Button_buttonLoad__3blib\"};"],"sourceRoot":""}